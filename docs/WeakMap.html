<!DOCTYPE html><html><head><meta charset="utf-8"><title>WeakMap JavaScript API</title><meta name="description" content="Interactive API reference for the JavaScript WeakMap Object. WeakMaps allow associating keys and values similar to Map except WeakMap does not allow iterating over its keys or values. If WeakMap would"><link rel="stylesheet" type="text/css" href="styles.css"><script type="text/javascript">var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23450559-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></head><body><script>if (sessionStorage.collapsed === 'true') {
  document.body.classList.add('members-collapsed');
}
if (localStorage.theme) {
  document.body.parentElement.classList.add(localStorage.theme);
}</script><div class="topnav"><a href="/">JavaScripture</a><div class="bookmarks"><a class="bookmark contribute" href="https://github.com/nkronlage/JavaScripture">Contribute via GitHub</a> <a class="bookmark" href="/feedback">Feedback</a></div></div><div class="container"><nav class="leftnav"><div id="searchContainer"><input id="searchBox" type="text" placeholder="Search (Ctrl + S)" autocomplete="false"><div id="resultsBox" style="display:none;"></div></div><div id="apichooser"><a href="#" onclick="openApiChooser(); return false;"><div class="arrow"></div><span id="selectedsets"></span></a><div id="obscure"></div><div id="apisets"><ul></ul></div></div><div class="toc"><h2>WeakMap</h2><div class="navgroup"><div class="group"><a href="#Constructors">Constructors</a></div><div class="group collapsed"><a href="#InstanceMethods" onclick="expandoClicked(this.parentNode); return false;"><div class="arrow"></div>Instance Methods</a><div class="subgroup"><a href="#delete_Object">delete</a><a href="#get_Object">get</a><a href="#has_Object">has</a><a href="#set_Object_Object">set</a></div></div></div><h2>JavaScript API</h2><div id="related-apis" class="navgroup"></div><h2>All API</h2><div id="rootObjs" class="navgroup"><span class="empty">No API set selected.</span></div></div></nav><div class="content"><h1 class="declaration"><span class="object">WeakMap</span> <span class="type">: <a href="/Object">Object</a></span></h1><div class="metadata"><span>constructor</span></div><div class="objectdescription">WeakMaps allow associating keys and values similar to <a href="/Map">Map</a> except WeakMap does not allow iterating over its keys or values. If WeakMap would be the only object holding on to the key/value pair, the pair will be released from memory. The keys cannot be primitive values (<a href="/Boolean">Boolean</a>, <a href="/Number">Number</a>, <a href="/String">String</a>, or <a href="/undefined">undefined</a>).<div class="membermetadata"><span class="ecmascript2015">ECMAScript 2015</span> <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap-objects" class="spec">Spec</a></div></div><div><a name="Constructors"></a><h2>Constructors</h2><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="WeakMap"></a> <a name="new_WeakMap"></a><div class="declaration">new <span class="membername primary">WeakMap</span>()&nbsp;:&nbsp;<a class="membertype" href="/WeakMap">WeakMap</a></div><div class="member-body"><p class="description">Creates an empty WeakMap.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakMap([[key1, &#39;value 1&#39;], [key2, &#39;value 2&#39;]]);

console.log(x.get(key1));
console.log(x.get(key2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.WeakMap"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap-iterable" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="WeakMap"></a> <a name="new_WeakMap_Object"></a><div class="declaration">new <span class="membername primary">WeakMap</span>(<span class="membername">iterable</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/WeakMap">WeakMap</a></div><div class="member-body"><p class="description">Creates a WeakMap by iterating over <code>iterable</code> and using the first element of the iterator value as the key and second element as the value.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var fromArray = new WeakMap([[key1, &#39;array0&#39;], [key2, &#39;array1&#39;]]);

console.log(fromArray.get(key1));
console.log(fromArray.get(key2));
console.log();

var generator = function*() {
  yield [key1, &#39;generator0&#39;];
  yield [key2, &#39;generator1&#39;];
};

var fromGenerator = new WeakMap(generator());
console.log(fromGenerator.get(key1));
console.log(fromGenerator.get(key2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.WeakMap"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap-iterable" class="spec">Spec</a></div></div></div></div><div><a name="InstanceMethods"></a><h2>Instance Methods</h2><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="delete"></a> <a name="delete_Object"></a><div class="declaration"><span class="membername primary">delete</span>(<span class="membername">key</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Boolean">Boolean</a></div><div class="member-body"><p class="description">Removes <code>key</code> and its corresponding value from <code>this</code>. Returns <code>true</code> if <code>key</code> was in <code>this</code> before deleting it.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakMap([[key1, &#39;value 1&#39;], [key2, &#39;value 2&#39;]]);

console.log(x.get(key1));
console.log(x.get(key2));

x.delete(key1);

console.log(x.get(key1));
console.log(x.get(key2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.delete"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap.prototype.delete" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="get"></a> <a name="get_Object"></a><div class="declaration"><span class="membername primary">get</span>(<span class="membername">key</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a></div><div class="member-body"><p class="description">Returns the value stored for <code>key</code>. If no value is stored, returns <a href="/undefined"><code>undefined</code></a>. See also <a href="#has"><code>has()</code></a> and <a href="#set"><code>set()</code></a>.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakMap([[key1, &#39;value 1&#39;], [key2, &#39;value 2&#39;]]);

console.log(x.get(key1));
console.log(x.get(key2));

// get returns undefined for keys not in the WeakMap
var key3 = { language: &#39;JavaScript&#39; };
console.log(x.get(key3));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.get"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap.prototype.get" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="has"></a> <a name="has_Object"></a><div class="declaration"><span class="membername primary">has</span>(<span class="membername">key</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Boolean">Boolean</a></div><div class="member-body"><p class="description">Returns <code>true</code> if the map has a value stored for <code>key</code>.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakMap();

x.set(key1, undefined);

// has() lets you check if a value is stored, even if 
// the value is undefined
console.log(x.has(key1) + &#39; &#39; + x.get(key1));
console.log(x.has(key2) + &#39; &#39; + x.get(key2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.has"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap.prototype.has" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="set"></a> <a name="set_Object_Object"></a><div class="declaration"><span class="membername primary">set</span>(<span class="membername">key</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>, <span class="membername">value</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/WeakMap">WeakMap</a></div><div class="member-body"><p class="description">Stores <code>value</code> in <code>this</code> at the specified <code>key</code>. <code>key</code> cannot be a primitive value (<a href="/Boolean">Boolean</a>, <a href="/Number">Number</a>, <a href="/String">String</a>, or <a href="/undefined">undefined</a>). If a value is already stored for that <code>key</code>, it is replaced with <code>value</code>. Returns <code>this</code>. See also <a href="#get"><code>get()</code></a> and <a href="#has"><code>has()</code></a>.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var key1 = { foo: 1 };
var key2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakMap([[key1, &#39;value 1&#39;], [key2, &#39;value 2&#39;]]);

console.log(x.get(key1));

x.set(key1, &#39;a different value&#39;);

console.log(x.get(key1));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakMap.set"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakmap.prototype.set" class="spec">Spec</a></div></div></div></div><div class="bottomnav"><a href="/">home</a> <a href="/license">license</a> <a href="https://github.com/nkronlage/JavaScripture">contribute</a> <a href="/feedback">feedback</a> <a id="toggle-theme" href="#">toggle light/dark mode</a></div><div class="copyright">Copyright © JavaScripture Contributors</div></div></div></body><script src="javascripture.js"></script></html>