<!DOCTYPE html><html><head><meta charset="utf-8"><title>WeakSet JavaScript API</title><meta name="description" content="Interactive API reference for the JavaScript WeakSet Object. WeakSets are a collection of Objects where each object can only appear once in the set similar to Set. Unlike Set, WeakSet does not allow i"><link rel="stylesheet" type="text/css" href="styles.css"><script type="text/javascript">var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23450559-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></head><body><script>if (sessionStorage.collapsed === 'true') {
  document.body.classList.add('members-collapsed');
}
if (localStorage.theme) {
  document.body.parentElement.classList.add(localStorage.theme);
}</script><div class="topnav"><a href="/">JavaScripture</a><div class="bookmarks"><a class="bookmark contribute" href="https://github.com/nkronlage/JavaScripture">Contribute via GitHub</a> <a class="bookmark" href="/feedback">Feedback</a></div></div><div class="container"><nav class="leftnav"><div id="searchContainer"><input id="searchBox" type="text" placeholder="Search (Ctrl + S)" autocomplete="false"><div id="resultsBox" style="display:none;"></div></div><div id="apichooser"><a href="#" onclick="openApiChooser(); return false;"><div class="arrow"></div><span id="selectedsets"></span></a><div id="obscure"></div><div id="apisets"><ul></ul></div></div><div class="toc"><h2>WeakSet</h2><div class="navgroup"><div class="group"><a href="#Constructors">Constructors</a></div><div class="group collapsed"><a href="#InstanceMethods" onclick="expandoClicked(this.parentNode); return false;"><div class="arrow"></div>Instance Methods</a><div class="subgroup"><a href="#add_Object">add</a><a href="#delete_Object">delete</a><a href="#has_Object">has</a></div></div></div><h2>JavaScript API</h2><div id="related-apis" class="navgroup"></div><h2>All API</h2><div id="rootObjs" class="navgroup"><span class="empty">No API set selected.</span></div></div></nav><div class="content"><h1 class="declaration"><span class="object">WeakSet</span> <span class="type">: <a href="/Object">Object</a></span></h1><div class="metadata"><span>constructor</span></div><div class="objectdescription">WeakSets are a collection of <a href="/Object">Objects</a> where each object can only appear once in the set similar to <a href="/Set">Set</a>. Unlike Set, WeakSet does not allow iterating over its values. If WeakSet would be the only object holding on to the value, the value will be released from memory. The values stored in WeakSet cannot be primitive values (<a href="/Boolean">Boolean</a>, <a href="/Number">Number</a>, <a href="/String">String</a>, or <a href="/undefined">undefined</a>).<div class="membermetadata"><span class="ecmascript2015">ECMAScript 2015</span> <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset-objects" class="spec">Spec</a></div></div><div><a name="Constructors"></a><h2>Constructors</h2><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="WeakSet"></a> <a name="new_WeakSet"></a><div class="declaration">new <span class="membername primary">WeakSet</span>()&nbsp;:&nbsp;<a class="membertype" href="/WeakSet">WeakSet</a></div><div class="member-body"><p class="description">Creates an empty WeakSet.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var value1 = { foo: 1 };
var value2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakSet();
x.add(value1);

console.log(x.has(value1));
console.log(x.has(value2));

</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakSet.WeakSet"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset-iterable" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="WeakSet"></a> <a name="new_WeakSet_Object"></a><div class="declaration">new <span class="membername primary">WeakSet</span>(<span class="membername">iterable</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/WeakSet">WeakSet</a></div><div class="member-body"><p class="description">Creates a WeakSet by iterating over <code>iterable</code> and adding each value to the WeakSet.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var value1 = { foo: 1 };
var value2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var fromArray = new WeakSet([value1, value2]);

console.log(fromArray.has(value1));
console.log(fromArray.has(value2));

var generator = function*() {
  yield value1;
  yield value2;
};

var fromGenerator = new WeakSet(generator());

console.log(fromGenerator.has(value1));
console.log(fromGenerator.has(value2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakSet.WeakSet"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset-iterable" class="spec">Spec</a></div></div></div></div><div><a name="InstanceMethods"></a><h2>Instance Methods</h2><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="add"></a> <a name="add_Object"></a><div class="declaration"><span class="membername primary">add</span>(<span class="membername">value</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Set">Set</a></div><div class="member-body"><p class="description">Stores <code>value</code> in <code>this</code>. If <code>value</code> is already stored, there is no change to the WeakSet. Returns <code>this</code>.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var value1 = { foo: 1 };
var value2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakSet([value1]);

console.log(x.has(value1));
console.log(x.has(value2));

x.add(value2);
console.log(x.has(value2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakSet.add"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset.prototype.add" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="delete"></a> <a name="delete_Object"></a><div class="declaration"><span class="membername primary">delete</span>(<span class="membername">value</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Boolean">Boolean</a></div><div class="member-body"><p class="description">Removes <code>value</code> from <code>this</code>. Returns <code>true</code> if <code>value</code> was in <code>this</code> before deleting it.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var value1 = { foo: 1 };
var value2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakSet([value1, value2]);

console.log(&#39;has value1 = &#39; + x.has(value1));
console.log(&#39;has value2 = &#39; + x.has(value2));

console.log(&#39;deleted value2 = &#39; + x.delete(value2));

console.log(&#39;has value1 = &#39; + x.has(value1));
console.log(&#39;has value2 = &#39; + x.has(value2));

console.log(&#39;deleted value2 = &#39; + x.delete(value2)); // Already deleted
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakSet.delete"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset.prototype.delete" class="spec">Spec</a></div></div></div><div class="member"><div class="expand-members" title="Toggle showing all descriptions and examples"></div><a name="has"></a> <a name="has_Object"></a><div class="declaration"><span class="membername primary">has</span>(<span class="membername">value</span>&nbsp;:&nbsp;<a class="membertype" href="/Object">Object</a>)&nbsp;:&nbsp;<a class="membertype" href="/Boolean">Boolean</a></div><div class="member-body"><p class="description">Returns <code>true</code> if the set contains <code>value</code>.</p><div class="example"><div class="codePanel"><h4>Example:</h4><textarea class="code" rows="12" cols="60" wrap="off">
var value1 = { foo: 1 };
var value2 = { bar: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] };

var x = new WeakSet([value1]);

console.log(x.has(value1));
console.log(x.has(value2));
</textarea><a onclick='executeExample(this.parentNode.parentNode, "WeakSet.has"); return false' href="#" class="run">Run</a></div><div class="resultsPanel"><h4>Results:</h4><div style="position: relative"><div class="errormessage" style="display: none"></div><pre class="results"> </pre></div></div></div><p></p><div class="membermetadata"><a href="http://www.ecma-international.org/ecma-262/6.0/#sec-weakset.prototype.has" class="spec">Spec</a></div></div></div></div><div class="bottomnav"><a href="/">home</a> <a href="/license">license</a> <a href="https://github.com/nkronlage/JavaScripture">contribute</a> <a href="/feedback">feedback</a> <a id="toggle-theme" href="#">toggle light/dark mode</a></div><div class="copyright">Copyright © JavaScripture Contributors</div></div></div></body><script src="javascripture.js"></script></html>